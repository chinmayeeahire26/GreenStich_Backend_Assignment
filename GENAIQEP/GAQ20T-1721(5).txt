@Override
public UserData loginUser(String password) {  // Added password parameter
    SecurityContext sc  = SecurityContextHolder.getContext();
    Authentication auth  = sc.getAuthentication();
    String userName = auth.getName();
    UserData user = userRepo.findByEmail(userName);
    
    // Password validation logic
    if (user != null && user.getPassword().equals(password)) {  // Added password validation
        return user;
    } else {
        throw new UserException("Invalid username or password");  // Added exception handling
    }
}